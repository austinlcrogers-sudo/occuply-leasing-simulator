<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Occuply Lease Mix Modeling Demo</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
  <style>
    :root{
      --bg:#1a1f36; --card:#222a48; --muted:#aeb6d3; --text:#eef2ff;
      --teal:#16a085; --red:#e74c3c; --green:#2ecc71; --line:rgba(255,255,255,.10);
      --shadow:0 16px 40px rgba(0,0,0,.35); --radius:18px;
      --font: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
    }
    *{box-sizing:border-box}
    body{margin:0;background:radial-gradient(1100px 520px at 20% -10%, rgba(22,160,133,.18), transparent 65%),
                      radial-gradient(900px 520px at 110% 5%, rgba(46,204,113,.10), transparent 55%),
                      var(--bg);
         color:var(--text); font-family:var(--font);}
    .wrap{max-width:1100px;margin:0 auto;padding:26px 18px 40px}
    header{display:flex;align-items:center;justify-content:space-between;gap:14px;margin-bottom:18px}
    .title{font-size:22px;font-weight:800;letter-spacing:.2px}
    .badge{display:inline-flex;align-items:center;gap:8px;padding:8px 12px;border:1px solid var(--line);
           border-radius:999px;color:var(--muted);font-size:12px;background:rgba(255,255,255,.04)}
    .dot{width:10px;height:10px;border-radius:999px;background:var(--teal);box-shadow:0 0 0 6px rgba(22,160,133,.14)}
    .grid{display:grid;grid-template-columns:1fr;gap:14px}
    section{background:rgba(255,255,255,.04);border:1px solid var(--line);border-radius:var(--radius);
            box-shadow:var(--shadow);padding:18px}
    h2{margin:0 0 10px;font-size:18px}
    .sub{color:var(--muted);font-size:13px;line-height:1.45;margin:0 0 12px}
    .row{display:flex;gap:14px;align-items:stretch;flex-wrap:wrap}
    .card{background:rgba(255,255,255,.04);border:1px solid var(--line);border-radius:16px;padding:14px;flex:1;min-width:240px}
    .card h3{margin:0 0 8px;font-size:14px;letter-spacing:.2px}
    .pill{display:inline-flex;gap:8px;align-items:center;padding:6px 10px;border-radius:999px;
          border:1px solid var(--line);font-size:12px;color:var(--muted);background:rgba(0,0,0,.12)}
    .highlight{border-color:rgba(22,160,133,.55); box-shadow:0 0 0 3px rgba(22,160,133,.14) inset}
    .dim{opacity:.55;filter:saturate(.85)}
    .kvs{display:grid;gap:8px;margin-top:10px}
    .kv{display:flex;justify-content:space-between;gap:10px;padding:9px 10px;border-radius:12px;
        background:rgba(0,0,0,.18);border:1px solid rgba(255,255,255,.06)}
    .kv span{color:var(--muted);font-size:12px}
    .kv b{font-size:12px}
    .callout{display:flex;align-items:center;justify-content:space-between;gap:12px;margin-top:12px;
             padding:12px 14px;border-radius:14px;border:1px solid rgba(22,160,133,.35);
             background:linear-gradient(90deg, rgba(22,160,133,.18), rgba(255,255,255,.03))}
    .callout strong{font-size:16px}
    .callout .small{color:var(--muted);font-size:12px}
    .chartBox{flex:1;min-width:280px}
    canvas{width:100% !important;height:240px !important}
    .lost{flex:0 0 280px}
    .lost .big{font-size:28px;font-weight:900;letter-spacing:.2px}
    .btns{display:flex;gap:10px;flex-wrap:wrap;margin-top:12px}
    button{appearance:none;border:1px solid var(--line);background:rgba(255,255,255,.04);
           color:var(--text);padding:10px 12px;border-radius:12px;font-weight:700;cursor:pointer}
    button:hover{border-color:rgba(22,160,133,.35)}
    button.primary{border-color:rgba(22,160,133,.55);background:rgba(22,160,133,.14)}
    .compare{display:grid;grid-template-columns:1fr;gap:14px}
    .compare .card{position:relative}
    .corner{position:absolute;top:12px;right:12px;font-size:11px;color:var(--muted)}
    .metric{display:flex;justify-content:space-between;gap:10px;margin:8px 0;
            padding:9px 10px;border-radius:12px;background:rgba(0,0,0,.18);border:1px solid rgba(255,255,255,.06)}
    .metric span{color:var(--muted);font-size:12px}
    .metric b{font-size:12px}
    .emph{color:var(--green);font-weight:900}
    .warn{color:var(--red);font-weight:900}
    .footerCall{margin-top:14px;padding:14px;border-radius:16px;border:1px solid rgba(46,204,113,.35);
                background:linear-gradient(90deg, rgba(46,204,113,.14), rgba(255,255,255,.03));
                display:flex;justify-content:space-between;gap:12px;flex-wrap:wrap}
    .footerCall .big{font-size:16px;font-weight:900}
    @media (min-width: 860px){
      .grid{gap:16px}
      section{padding:20px}
      .compare{grid-template-columns:1fr 1fr}
      canvas{height:260px !important}
    }
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <div class="title">Occuply Lease Mix Modeling Demo</div>
      <div class="badge"><span class="dot"></span> Storytelling demo • minimal interactivity</div>
    </header>

    <div class="grid">
      <!-- SECTION 1 -->
      <section>
        <h2>Ground Floor 1BRs: The Chronic Underperformer</h2>
        <p class="sub">Same building. Same marketing. Very different lease-up velocity.</p>
        <div class="row">
          <div class="chartBox card">
            <div class="pill">Avg Days to Lease (1BR)</div>
            <canvas id="daysChart"></canvas>
          </div>
          <div class="lost card">
            <div class="pill">Vacancy Impact</div>
            <div style="margin-top:10px">
              <div class="sub" style="margin:0 0 6px">Cost callout</div>
              <div class="big">$34,776</div>
              <div class="sub" style="margin:4px 0 0">lost rent annually</div>
            </div>
            <div class="callout" style="margin-top:14px">
              <div>
                <strong>Problem:</strong>
                <div class="small">Ground floors sit longer, triggering bigger concessions.</div>
              </div>
              <div class="pill">Fix = better matching</div>
            </div>
          </div>
        </div>
      </section>

      <!-- SECTION 2 -->
      <section>
        <h2>AI Identifies the Match</h2>
        <p class="sub">LMM finds who actually wants ground-floor value—then you target incentives only where they move the needle.</p>
        <div class="row">
          <div class="card highlight" id="segA">
            <h3>Budget-Conscious Movers</h3>
            <div class="pill">Best match for ground floors</div>
            <div class="kvs">
              <div class="kv"><span>Share of demand</span><b>38% of market demand</b></div>
              <div class="kv"><span>Actual budget band</span><b>$1,400–1,700</b></div>
              <div class="kv"><span>Decision speed</span><b>48% sign within 7 days</b></div>
              <div class="kv"><span>Concession sensitivity</span><b>81% (high)</b></div>
            </div>
          </div>
          <div class="card dim" id="segB">
            <h3>Deliberate Families</h3>
            <div class="pill">Not the lever</div>
            <div class="kvs">
              <div class="kv"><span>Primary driver</span><b>School / layout fit</b></div>
              <div class="kv"><span>Decision speed</span><b>Slow</b></div>
              <div class="kv"><span>Concession impact</span><b>Low</b></div>
            </div>
          </div>
          <div class="card dim" id="segC">
            <h3>Premium Seekers</h3>
            <div class="pill">Wrong tradeoffs</div>
            <div class="kvs">
              <div class="kv"><span>Primary driver</span><b>Views / upgrades</b></div>
              <div class="kv"><span>Ground floor bias</span><b>Negative</b></div>
              <div class="kv"><span>Concession impact</span><b>Moderate</b></div>
            </div>
          </div>
        </div>
      </section>

      <!-- SECTION 3 -->
      <section>
        <h2>Strategy Comparison</h2>
        <p class="sub">Same building. Different strategy. One wastes concessions; one targets the buyer for ground floors.</p>

        <div class="btns">
          <button id="btnBlanket">Run Blanket Strategy</button>
          <button class="primary" id="btnLMM">Run LMM Strategy</button>
          <div class="pill" id="storyPill">Story: Target Budget-Conscious Movers → save ~$40K</div>
        </div>

        <div class="compare" style="margin-top:14px">
          <!-- Card A -->
          <div class="card" id="cardA">
            <div class="corner">Card A</div>
            <h3>Current Blanket Approach</h3>
            <div class="metric"><span>Strategy</span><b>2 months free to everyone</b></div>
            <div class="metric"><span>Concession cost</span><b class="warn" data-num="60000" id="aCost">$60,000</b></div>
            <div class="metric"><span>Units filled</span><b data-num="8" id="aUnits">8 of 12</b></div>
            <div class="metric"><span>Days to lease</span><b data-num="94" id="aDays">Still 94 days</b></div>
            <div class="callout" style="border-color:rgba(231,76,60,.35);background:linear-gradient(90deg, rgba(231,76,60,.14), rgba(255,255,255,.03))">
              <div>
                <strong>Result:</strong>
                <div class="small">High spend, weak lift on the problem floorplan.</div>
              </div>
              <div class="pill">Waste</div>
            </div>
          </div>

          <!-- Card B -->
          <div class="card highlight" id="cardB">
            <div class="corner">Card B</div>
            <h3>Occuply LMM Approach</h3>
            <div class="metric"><span>Strategy</span><b>Target Budget-Conscious Movers</b></div>
            <div class="metric"><span>Pricing</span><b>$1,650 <span class="small" style="color:var(--muted)">(13% discount for ground floors)</span></b></div>
            <div class="metric"><span>Targeted concession</span><b>1 month free <span class="small" style="color:var(--muted)">(only this profile)</span></b></div>
            <div class="metric"><span>Concession cost</span><b class="emph" data-num="19800" id="bCost">$19,800</b></div>
            <div class="metric"><span>Units filled</span><b class="emph" data-num="11" id="bUnits">11 of 12</b></div>
            <div class="metric"><span>Days to lease</span><b class="emph" data-num="58" id="bDays">58 days <span class="small" style="color:var(--muted)">(38% improvement)</span></b></div>
            <div class="metric"><span>ROI</span><b class="emph" data-num="4.2" id="bRoi">4.2x</b></div>
            <div class="callout">
              <div>
                <strong>Result:</strong>
                <div class="small">Lower spend + faster lease-up on the underperforming unit type.</div>
              </div>
              <div class="pill">Precision</div>
            </div>
          </div>
        </div>

        <div class="footerCall">
          <div class="big">Savings: <span class="emph" id="save">$40,200</span></div>
          <div class="big">68% reduction in concession waste</div>
        </div>
      </section>
    </div>
  </div>

  <script>
    // --- Chart.js bar chart ---
    const ctx = document.getElementById("daysChart");
    const chart = new Chart(ctx, {
      type: "bar",
      data: {
        labels: ["Ground Floor", "Upper Floor"],
        datasets: [{
          label: "Avg Days to Lease",
          data: [94, 48],
          backgroundColor: ["rgba(231,76,60,.85)", "rgba(46,204,113,.85)"],
          borderColor: ["rgba(231,76,60,1)", "rgba(46,204,113,1)"],
          borderWidth: 1.2,
          borderRadius: 10
        }]
      },
      options: {
        responsive: true,
        maintainAspectRatio: false,
        plugins: {
          legend: { display: false },
          tooltip: { callbacks: { label: (c)=> `${c.raw} days` } }
        },
        scales: {
          x: { ticks: { color: "rgba(238,242,255,.85)", font: { weight: "700" } }, grid: { display:false } },
          y: { beginAtZero: true, suggestedMax: 110,
               ticks: { color: "rgba(174,182,211,.9)" },
               grid: { color: "rgba(255,255,255,.08)" } }
        }
      }
    });

    // --- Minimal interactivity ---
    const cardA = document.getElementById("cardA");
    const cardB = document.getElementById("cardB");
    const btnBlanket = document.getElementById("btnBlanket");
    const btnLMM = document.getElementById("btnLMM");

    const fmtMoney = n => "$" + Math.round(n).toLocaleString();
    const animateTo = (el, to, opts={}) => {
      const from = opts.from ?? 0;
      const dur = opts.dur ?? 650;
      const decimals = opts.decimals ?? 0;
      const prefix = opts.prefix ?? "";
      const suffix = opts.suffix ?? "";
      const start = performance.now();
      const tick = (t) => {
        const p = Math.min(1, (t - start) / dur);
        const eased = 1 - Math.pow(1 - p, 3);
        const v = from + (to - from) * eased;
        el.textContent = prefix + v.toFixed(decimals) + suffix;
        if (p < 1) requestAnimationFrame(tick);
      };
      requestAnimationFrame(tick);
    };

    const setActive = (which) => {
      const aOn = which === "A";
      cardA.classList.toggle("highlight", aOn);
      cardB.classList.toggle("highlight", !aOn);
      btnBlanket.classList.toggle("primary", aOn);
      btnLMM.classList.toggle("primary", !aOn);
    };

    btnBlanket.addEventListener("click", () => setActive("A"));

    btnLMM.addEventListener("click", () => {
      setActive("B");
      // animate the "good" numbers (storytelling payoff)
      animateTo(document.getElementById("bCost"), 19800, {from: 25000, dur: 700, prefix:"$", decimals:0});
      animateTo(document.getElementById("bUnits"), 11, {from: 8, dur: 650, prefix:"", decimals:0, suffix:" of 12"});
      animateTo(document.getElementById("bDays"), 58, {from: 94, dur: 700, prefix:"", decimals:0, suffix:" days (38% improvement)"});
      animateTo(document.getElementById("bRoi"), 4.2, {from: 1.0, dur: 700, decimals:1, suffix:"x"});
      animateTo(document.getElementById("save"), 40200, {from: 0, dur: 750, prefix:"$", decimals:0});
    });

    // default state: LMM highlighted (fits the narrative)
    setActive("B");
  </script>
</body>
</html>
